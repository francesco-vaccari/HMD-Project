version "3.1"

- story: interactive_story_1
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: order
    entities:
    - amounts: '2'
    - pizza_sizes: small
    - pizza_types: margherita
    - other_item_types: pizzas
    - number: '2'
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - temp_order:
      - - '2'
        - small
        - margherita
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 2 small margherita. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '2'
        - small
        - margherita
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: order
    entities:
    - amounts: '1'
    - other_item_types: tiramisu
    - number: '1'
  - slot_was_set:
    - amounts:
      - '1'
  - action: action_order
  - slot_was_set:
    - order:
      - - '2'
        - small
        - margherita
  - slot_was_set:
    - temp_order:
      - - '1'
        - tiramisu
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 1 tiramisu, 2 small margherita. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '1'
        - tiramisu
      - - '2'
        - small
        - margherita
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: deny
  - action: action_confirm_order
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: true
  - slot_was_set:
    - choosing_eating_place: true
  - slot_was_set:
    - last_message: Would you like to do take away, have the order delivered to you or do you prefer to eat here?
  - slot_was_set:
    - total: 11.0
  - intent: table
  - action: action_table
  - slot_was_set:
    - choosing_eating_place: false
  - slot_was_set:
    - asking_people: true
  - slot_was_set:
    - last_message: How many people do you want to make the reservation for?
  - slot_was_set:
    - method: table
  - intent: tell_number
    entities:
    - amounts: '4'
    - number: '4'
  - slot_was_set:
    - amounts:
      - '4'
  - action: action_table
  - slot_was_set:
    - asking_people: false
  - slot_was_set:
    - last_message: For what day and time do you want to make the reservation for?
  - slot_was_set:
    - asking_time_table: true
  - slot_was_set:
    - n_people: '4'
  - intent: tell_time
    entities:
    - time: '2024-01-26T21:00:00.000+01:00'
  - action: action_table
  - slot_was_set:
    - asking_time_table: false
  - slot_was_set:
    - time: '2024-01-26T21:00:00.000+01:00'
  - slot_was_set:
    - last_message: The procedure is complete. Thank you for using PizzaBot! Goodbye!
  - action: action_save_order
  - intent: thank_you
  - action: action_you_are_welcome


- story: interactive_story_2
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: ask_address
  - action: action_utter_address
  - action: action_repeat_last_message
  - intent: ask_allergies
  - action: action_utter_allergies
  - action: action_repeat_last_message
  - intent: order
    entities:
    - amounts: '2'
    - pizza_sizes: large
    - pizza_types: margherita
    - amounts: '3'
    - pizza_sizes: small
    - pizza_types: marinara
    - number: '2'
    - number: '3'
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - temp_order:
      - - '2'
        - large
        - margherita
      - - '3'
        - small
        - marinara
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 2 large margherita, 3 small marinara. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '2'
        - large
        - margherita
      - - '3'
        - small
        - marinara
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: deny
  - action: action_confirm_order
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: true
  - slot_was_set:
    - choosing_eating_place: true
  - slot_was_set:
    - last_message: Would you like to do take away, have the order delivered to you or do you prefer to eat here?
  - slot_was_set:
    - total: 27.0
  - intent: takeaway
  - action: action_takeaway
  - slot_was_set:
    - choosing_eating_place: false
  - slot_was_set:
    - last_message: When would you like to pick up your order?
  - slot_was_set:
    - asking_time_takeaway: true
  - slot_was_set:
    - method: takeaway
  - intent: tell_time
    entities:
    - time: '2024-01-29T20:30:00.000+01:00'
  - action: action_takeaway
  - slot_was_set:
    - asking_time_takeaway: false
  - slot_was_set:
    - time: '2024-01-29T20:30:00.000+01:00'
  - slot_was_set:
    - last_message: The procedure is complete. Thank you for using PizzaBot! Goodbye!
  - action: action_save_order

- story: interactive_story_3
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: bot_challenge
  - action: action_utter_imabot
  - action: action_repeat_last_message
  - intent: change_order
  - action: action_change_order
  - slot_was_set:
    - asking_change_order: true
  - slot_was_set:
    - last_message: Do you wish to cancel an order made in a previous call/conversation?
  - intent: confirm
  - action: action_change_order_confirmed
  - slot_was_set:
    - change_order_procedure: true
  - slot_was_set:
    - asking_change_order: false
  - slot_was_set:
    - last_message: What is the order number of the order you want to change?
  - slot_was_set:
    - asking_id: true
  - intent: tell_number
    entities:
    - amounts: '20'
    - number: '20'
  - slot_was_set:
    - amounts:
      - '20'
  - action: action_change_order_confirmed
  - slot_was_set:
    - asking_id: false
  - slot_was_set:
    - last_message: Do you confirm you want to cancel this order?
  - slot_was_set:
    - order_id: '20'
  - slot_was_set:
    - asking_cancel: true
  - intent: confirm
  - action: action_change_order_confirmed
  - slot_was_set:
    - asking_cancel: false
  - slot_was_set:
    - last_message: What would you like to order?
  - slot_was_set:
    - order_id: null
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - order: null
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - change_order_procedure: false
  - slot_was_set:
    - asking_change_order: false
  - intent: thank_you
  - action: action_you_are_welcome

- story: interactive_story_4
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: order
    entities:
    - amounts: '3'
    - pizza_types: french fries
    - amounts: '2'
    - pizza_sizes: small
    - pizza_types: funghi
    - number: '3'
    - number: '2'
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - temp_order:
      - - '3'
        - medium
        - french fries
      - - '2'
        - small
        - funghi
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 3 medium french fries, 2 small funghi. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '3'
        - medium
        - french fries
      - - '2'
        - small
        - funghi
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: order
    entities:
    - amounts: '1'
    - other_item_types: fanta
    - amounts: '1'
    - other_item_types: cheesecake
    - number: '1'
    - number: '1'
  - slot_was_set:
    - amounts:
      - '1'
  - action: action_order
  - slot_was_set:
    - order:
      - - '3'
        - medium
        - french fries
      - - '2'
        - small
        - funghi
  - slot_was_set:
    - temp_order:
      - - '1'
        - fanta
      - - '1'
        - cheesecake
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 1 fanta, 1 cheesecake, 3 medium french fries, 2 small funghi. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '1'
        - fanta
      - - '1'
        - cheesecake
      - - '3'
        - medium
        - french fries
      - - '2'
        - small
        - funghi
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: deny
  - action: action_confirm_order
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: true
  - slot_was_set:
    - choosing_eating_place: true
  - slot_was_set:
    - last_message: Would you like to do take away, have the order delivered to you or do you prefer to eat here?
  - slot_was_set:
    - total: 36.0
  - intent: ask_functions
  - action: action_utter_functions
  - action: action_repeat_last_message
  - intent: delivery
  - action: action_delivery
  - slot_was_set:
    - choosing_eating_place: false
  - slot_was_set:
    - last_message: When would you like the order to be delivered?
  - slot_was_set:
    - asking_time_delivery: true
  - slot_was_set:
    - method: delivery
  - intent: tell_time
    entities:
    - time: '2024-01-26T19:00:00.000+01:00'
  - action: action_delivery
  - slot_was_set:
    - asking_time_delivery: false
  - slot_was_set:
    - time: '2024-01-26T19:00:00.000+01:00'
  - slot_was_set:
    - last_message: What is the address for the delivery?
  - slot_was_set:
    - asking_address: true
  - intent: tell_address
    entities:
    - address: via venezia 10 trento
    - number: '10'
  - slot_was_set:
    - address: via venezia 10 trento
  - action: action_delivery
  - slot_was_set:
    - asking_address: false
  - slot_was_set:
    - last_message: The procedure is complete. Thank you for using PizzaBot! Goodbye!
  - action: action_save_order

- story: interactive_story_5
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: ask_menu
  - action: action_utter_menu
  - action: action_repeat_last_message
  - intent: nlu_fallback
  - action: action_repeat_last_message
  - action: action_back
  - intent: ask_menu
  - action: action_utter_menu
  - action: action_repeat_last_message
  - intent: nlu_fallback
  - intent: out_of_scope
  - action: action_utter_out_of_scope
  - action: action_repeat_last_message
  - intent: nlu_fallback
    entities:
    - time: '2024-01-26T00:00:00.000+01:00'
  - intent: ask_affluence
    entities:
    - time: '2024-01-26T00:00:00.000+01:00'
  - action: action_utter_affluence
  - action: action_repeat_last_message
  - intent: order
    entities:
    - amounts: '2'
    - pizza_types: french fries
    - amounts: '1'
    - other_item_types: sprite
    - number: '2'
    - number: '1'
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - temp_order:
      - - '2'
        - medium
        - french fries
      - - '1'
        - sprite
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 2 medium french fries, 1 sprite. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '2'
        - medium
        - french fries
      - - '1'
        - sprite
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: ask_cost
  - action: action_utter_cost
  - action: action_repeat_last_message
  - intent: nothing_else
  - action: action_order
  - action: action_confirm_order
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: true
  - slot_was_set:
    - choosing_eating_place: true
  - slot_was_set:
    - last_message: Would you like to do take away, have the order delivered to you or do you prefer to eat here?
  - slot_was_set:
    - total: 16.0
  - intent: table
  - action: action_table
  - slot_was_set:
    - choosing_eating_place: false
  - slot_was_set:
    - asking_people: true
  - slot_was_set:
    - last_message: How many people do you want to make the reservation for?
  - slot_was_set:
    - method: table
  - intent: tell_number
    entities:
    - amounts: '9'
    - number: '9'
  - slot_was_set:
    - amounts:
      - '9'
  - action: action_table
  - slot_was_set:
    - asking_people: false
  - slot_was_set:
    - last_message: For what day and time do you want to make the reservation for?
  - slot_was_set:
    - asking_time_table: true
  - slot_was_set:
    - n_people: '9'
  - intent: tell_time
    entities:
    - time: '2024-01-26T19:30:00.000+01:00'
  - action: action_table
  - slot_was_set:
    - asking_time_table: false
  - slot_was_set:
    - time: '2024-01-26T19:30:00.000+01:00'
  - slot_was_set:
    - last_message: The procedure is complete. Thank you for using PizzaBot! Goodbye!
  - action: action_save_order

- story: interactive_story_6
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: ask_menu
  - action: action_utter_menu
  - action: action_repeat_last_message
  - intent: nlu_fallback
  - action: action_repeat_last_message
  - action: action_back
  - intent: ask_menu
  - action: action_utter_menu
  - action: action_repeat_last_message
  - intent: nlu_fallback
  - intent: out_of_scope
  - action: action_utter_out_of_scope
  - action: action_repeat_last_message
  - intent: nlu_fallback
    entities:
    - time: '2024-01-26T00:00:00.000+01:00'
  - intent: ask_affluence
    entities:
    - time: '2024-01-26T00:00:00.000+01:00'
  - action: action_utter_affluence
  - action: action_repeat_last_message
  - intent: order
    entities:
    - amounts: '2'
    - pizza_types: french fries
    - amounts: '1'
    - other_item_types: sprite
    - number: '2'
    - number: '1'
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - temp_order:
      - - '2'
        - medium
        - french fries
      - - '1'
        - sprite
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 2 medium french fries, 1 sprite. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '2'
        - medium
        - french fries
      - - '1'
        - sprite
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: ask_cost
  - action: action_utter_cost
  - action: action_repeat_last_message
  - intent: nothing_else
  - action: action_order
  - action: action_confirm_order
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: true
  - slot_was_set:
    - choosing_eating_place: true
  - slot_was_set:
    - last_message: Would you like to do take away, have the order delivered to you or do you prefer to eat here?
  - slot_was_set:
    - total: 16.0
  - intent: table
  - action: action_table
  - slot_was_set:
    - choosing_eating_place: false
  - slot_was_set:
    - asking_people: true
  - slot_was_set:
    - last_message: How many people do you want to make the reservation for?
  - slot_was_set:
    - method: table
  - intent: tell_number
    entities:
    - amounts: '9'
    - number: '9'
  - slot_was_set:
    - amounts:
      - '9'
  - action: action_table
  - slot_was_set:
    - asking_people: false
  - slot_was_set:
    - last_message: For what day and time do you want to make the reservation for?
  - slot_was_set:
    - asking_time_table: true
  - slot_was_set:
    - n_people: '9'
  - intent: tell_time
    entities:
    - time: '2024-01-26T19:30:00.000+01:00'
  - action: action_table
  - slot_was_set:
    - asking_time_table: false
  - slot_was_set:
    - time: '2024-01-26T19:30:00.000+01:00'
  - slot_was_set:
    - last_message: The procedure is complete. Thank you for using PizzaBot! Goodbye!
  - action: action_save_order

- story: interactive_story_7
  steps:
  - intent: greet
  - action: action_utter_greet
  - action: action_repeat_last_message
  - intent: change_order
  - action: action_change_order
  - slot_was_set:
    - asking_change_order: true
  - slot_was_set:
    - last_message: Do you wish to cancel an order made in a previous call/conversation?
  - intent: confirm
  - action: action_change_order_confirmed
  - slot_was_set:
    - change_order_procedure: true
  - slot_was_set:
    - asking_change_order: false
  - slot_was_set:
    - last_message: What is the order number of the order you want to change?
  - slot_was_set:
    - asking_id: true
  - intent: tell_number
  - intent: out_of_scope
  - action: action_utter_out_of_scope
  - action: action_repeat_last_message
  - intent: tell_number
    entities:
    - number: 100
  - action: action_change_order_confirmed
  - slot_was_set:
    - last_message: What is the order number of the order you want to cancel?
  - slot_was_set:
    - order_id: null
  - intent: nlu_fallback
  - action: action_repeat_last_message
  - action: action_back
  - intent: nlu_fallback
  - intent: order
  - action: action_repeat_last_message
  - action: action_back
  - intent: nlu_fallback
  - intent: order
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - asking_change_order: false
  - slot_was_set:
    - last_message: What would you like to order?
  - intent: order
    entities:
    - amounts: '1'
    - pizza_types: margherita
    - pizza_types: and
    - amounts: '1'
    - other_item_types: tea
  - action: action_order
  - slot_was_set:
    - order: []
  - slot_was_set:
    - temp_order:
      - - '1'
        - medium
        - margherita
      - - '1'
        - tea
  - slot_was_set:
    - asking_correct: true
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: 'Your order is: 1 medium margherita, 1 tea. Is it correct?'
  - slot_was_set:
    - asking_change_order: false
  - intent: confirm
  - action: action_order_correct
  - slot_was_set:
    - order:
      - - '1'
        - medium
        - margherita
      - - '1'
        - tea
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - asking_anything_else: true
  - slot_was_set:
    - order_confirmed: false
  - slot_was_set:
    - last_message: Do you want anything else?
  - intent: deny
  - action: action_confirm_order
  - slot_was_set:
    - asking_anything_else: false
  - slot_was_set:
    - asking_correct: false
  - slot_was_set:
    - temp_order: null
  - slot_was_set:
    - order_confirmed: true
  - slot_was_set:
    - choosing_eating_place: true
  - slot_was_set:
    - last_message: Would you like to do take away, have the order delivered to you or do you prefer to eat here?
  - slot_was_set:
    - total: 6.0
  - intent: table
  - action: action_table
  - slot_was_set:
    - choosing_eating_place: false
  - slot_was_set:
    - asking_people: true
  - slot_was_set:
    - last_message: How many people do you want to make the reservation for?
  - slot_was_set:
    - method: table
  - intent: nlu_fallback
    entities:
    - number: '8'
  - action: action_repeat_last_message
  - intent: tell_number
    entities:
    - amounts: '5'
    - number: '5'
  - slot_was_set:
    - amounts:
      - '5'
  - action: action_table
  - slot_was_set:
    - asking_people: false
  - slot_was_set:
    - last_message: For what day and time do you want to make the reservation for?
  - slot_was_set:
    - asking_time_table: true
  - slot_was_set:
    - n_people: '5'
  - intent: ask_cost
  - action: action_utter_cost
  - action: action_repeat_last_message
  - intent: tell_time
    entities:
    - time: '2024-01-27T21:00:00.000+01:00'
  - action: action_table
  - slot_was_set:
    - asking_time_table: false
  - slot_was_set:
    - time: '2024-01-27T21:00:00.000+01:00'
  - slot_was_set:
    - last_message: The procedure is complete. Thank you for using PizzaBot! Goodbye!
  - action: action_save_order
