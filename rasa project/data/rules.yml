version: "3.1"

rules:

- rule: greet
  steps:
  - intent: greet
  - action: utter_greet

- rule: bot challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: out of scope
  steps:
  - intent: out_of_scope
  - action: utter_out_of_scope

- rule: pizza order
  steps:
  - intent: order
  - action: action_order

- rule: asking correct
  condition:
  - slot_was_set:
    - asking_correct: True
  steps:
  - intent: confirm
  - action: action_order_correct

- rule: asking incorrect
  condition:
  - slot_was_set:
    - asking_correct: True
  steps:
  - intent: deny
  - action: action_order_incorrect

- rule: asking anything else
  condition:
  - slot_was_set:
    - asking_anything_else: True
  steps:
  - intent: confirm
  - action: action_order

- rule: end order
  condition:
  - slot_was_set:
    - asking_anything_else: True
  steps:
  - intent: deny
  - action: action_confirm_order

- rule: change order
  steps:
  - intent: change_order
  - action: action_change_order

- rule: takeaway
  condition:
  - slot_was_set:
    - choosing_eating_place: True
  steps:
  - intent: takeaway
  - action: action_takeaway

- rule: delivery
  condition:
  - slot_was_set:
    - choosing_eating_place: True
  steps:
  - intent: delivery
  - action: action_delivery

- rule: table
  condition:
  - slot_was_set:
    - choosing_eating_place: True
  steps:
  - intent: table
  - action: action_table

- rule: ask address
  steps:
  - intent: ask_address
  - action: utter_address

- rule: ask opening hours
  steps:
  - intent: ask_opening_hours
  - action: utter_opening_hours

- rule: ask menu
  steps:
  - intent: ask_menu
  - action: action_utter_menu

- rule: ask affluence
  steps:
  - intent: ask_affluence
  - action: action_utter_affluence

- rule: ask allergies
  steps:
  - intent: ask_allergies
  - action: action_utter_allergies